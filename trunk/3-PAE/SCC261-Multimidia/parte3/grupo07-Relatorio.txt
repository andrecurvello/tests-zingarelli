*******************************************************************************
*                                                                             *
*                       TRABALHO DE MULTIMIDA - PARTE 3                       *
*                                                                             *
*******************************************************************************
*   Entrega dia 14 de Junho de 2011                                           *
*******************************************************************************
*   Membros do grupo:                                                         *
*      Fábio Abrão Luca                                                       *
*      Giulianne Katlauskas Montemurro                                        *
*      Lucas Cuculo Badiale                                                   *
*******************************************************************************
*   Entrega no escaninho de Lucas Cuculo Badiale                              *
*******************************************************************************

===============================================================================
	SOBRE O PROGRAMA
===============================================================================
	Este programa irá realizar a compressão de uma imagem BMP.
	Outra possibilidade interessante deste programa é que ele permite ao
usuário testar se as imagems originais são idênticas às imagens descomprimidas.
Com esta função, cada pixel da imagem original é comparado com a imagem
gerada.

===============================================================================
	COMO USAR
===============================================================================
	Para utilizar este programa, basta compilá-lo. Se for utilizar linux,
utilize o comando 'make'.
	Com o programa compilado, basta executá-lo de uma das seguintes formas:

	* Se quiser compactar o arquivo, mas utilizando tabelas de frequencias 
globais, execute este comando:
	./Trabalho2 -g c imagem.bmp arquivo_comprimido

	* Se quiser descompactar um arquivo comprimido, utilizando as tabelas de
frequencias globais, execute o seguinte comando:
	./Trabalho2 -g d arquivo_comprimido imagem_descomprimida.bmp
	
	* Se quiser compactar o arquivo, mas utilizando tabelas de frequencias 
separadas para cada bloco da imagem, execute este comando:
	./Trabalho2 c imagem.bmp arquivo_comprimido

	* Se quiser descompactar um arquivo comprimido, utilizando as tabelas de
frequencias separadas para cada bloco, execute o seguinte comando:
	./Trabalho2 d arquivo_comprimido imagem_descomprimida.bmp
	
	* Se quiser comparar a imagem original com a imagem descomprimida, a fim
de saber se elas são diferentes, use o comando:
	./Trabalho2 v original.bmp descomprimido.bmp
	
	Para ver todas as opções de execução do programa, rode o programa sem
nenhum argumento.
	Para comprimir e descomprimir facilmente um arquivo, existe um script, que
acompanha este programa, que irá comprimir e descomprimir todas as imagens
dentro da pasta 'imagens', e também irá mostrar um relatório das compressões.
O script é "testar_tudo.sh" e funciona apenas em linux, porém uma saída do
script foi salva no arquivo "Estatisticas.txt".

===============================================================================
	DESCRIÇÃO DO CODIGO
===============================================================================

	O projeto está separado em diversos módulos. Os módulos mais
importantes para o funcionamento do projeto estão apresentados à seguir

-------------------------------------------------------------------------------

	main.c
		Neste código está presente a interface do usuário final, que 
		faz chamadas as funções intermediárias para compressão ou 
		descompressão de imagens.

	bitstream.c
		Este arquivo contém a implementação de métodos que tornam 
		mais fácil a manipulação do bitstream, contendo métodos como o 
		add_bit, get_bit e assim por diante. A definição das funções e 
		das estruturas está no arquivo bitstream.h

	carreira.c
		Contém as chamadas à todos os métodos que são necessários para
		comprimir e descomprimir utilizando a codificação por 
		carreiras. As estruturas auxiliares (como a tabela de 
		frequencias e a arvore de huffman) estão dentro da pasta 
		modulos/carreira/
		Essa codificação por carreira não é a tradicional aprendida
		em aula. Foi utilizado uma codificação mais genérica, que irá
		pular todos os valores repetidos. Dessa forma, conseguimos
		uma taxa de compressão melhor.

	compressor.c
		Nesse código são realizadas as etapas de preparação da imagem,
		preparação dos blocos, da vetorização, seguida da codificação 
		da imagem para obtenção do arquivo comprimido. Assim como o 
		processo de descompressão.
	
	dct.c
		Contém as funções que realizam a transformada discreta dos 
		cossenos e a quantização.

	diferencas.c
		Contém todas as implementações das funções que realizam a 
		compressão por diferenças.

	prepara.c
		Neste código é realizada a leitura do arquivo BMP para 
		definição dos blocos, que são representados em uma lista de 
		blocos.

	prepara.h
		Definição das estruturas utilizadas para leitura do arquivo 
		(header), para representar os blocos e das funções 
		implementadas no arquivo prepara.c.

	vetorizacao.c
		Aplicação da vetorização em uma matriz de 8x8 que corresponde
		ao bloco de 8x8 pixels da imagem, usado na hora de comprimir
		a imagem e outra função que executa o inverso da vetorização,
		ou seja, a partir de um vetor de 64 posições é criado uma
		matriz de 8x8, usada para criar os blocos da imagem
		(desvetorização). Cada vetor é o resultado da vetorização de
		uma das matrizes 8x8 do bloco. Eles são representados em uma
		lista de vetores que são ordenados por blocos, sendo um vetor
		para a matriz R, outro para a matriz G e outro para a
		matriz B, nesta ordem.

-------------------------------------------------------------------------------
